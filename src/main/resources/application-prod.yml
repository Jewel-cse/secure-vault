server:
  port: 8080
spring:
  application:
    name: payment-service
  
  # Spring Cloud Vault Configuration for PRODUCTION
  config:
    import: vault://
  
  cloud:
    vault:
      # Vault server connection (HTTPS for production)
      uri: ${VAULT_ADDR:https://localhost:443}
      
      # SSL/TLS Configuration
      ssl:
        trust-store: ${VAULT_TLS_CA_FILE:classpath:vault-ca.pem}
        trust-store-type: PEM
      
      # AppRole Authentication (PRODUCTION)
      authentication: APPROLE
      app-role:
        role-id: ${VAULT_ROLE_ID}
        secret-id: ${VAULT_SECRET_ID}
        role: ${VAULT_CLIENT_NAME:payment-service}
        app-role-path: approle
      
      # KV v2 secrets engine configuration
      kv:
        enabled: true
        backend: secret
        default-context: ${VAULT_CLIENT_NAME:payment-service}
        application-name: ${VAULT_CLIENT_NAME:payment-service}
        
      # Fail fast if Vault is not available
      fail-fast: true
      
      # Connection settings
      connection-timeout: 5000
      read-timeout: 15000
      
      # Token renewal
      token:
        renew: true
        ttl: 3600000  # 1 hour
# Logging configuration for production
logging:
  level:
    root: INFO
    com.rana.voult_demo: INFO
    org.springframework.cloud.vault: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"
